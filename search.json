[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Pip Technical Guidelines",
    "section": "",
    "text": "Preface\nThis is a Quarto book. In this book we intend to write technical information about PIP projects.",
    "crumbs": [
      "Preface"
    ]
  },
  {
    "objectID": "intro.html",
    "href": "intro.html",
    "title": "1¬† Introduction",
    "section": "",
    "text": "The purpose of this book is to gather all the technical knowledge specific to PIP in one place.",
    "crumbs": [
      "<span class='chapter-number'>1</span>¬† <span class='chapter-title'>Introduction</span>"
    ]
  },
  {
    "objectID": "code_coverage.html",
    "href": "code_coverage.html",
    "title": "2¬† Add code coverage badge to your GitHub Repository.",
    "section": "",
    "text": "2.1 Codecov.io\nIn this article we will learn how to add code coverage badge to your GitHub repository.",
    "crumbs": [
      "<span class='chapter-number'>2</span>¬† <span class='chapter-title'>Add code coverage badge to your GitHub Repository.</span>"
    ]
  },
  {
    "objectID": "code_coverage.html#codecov.io",
    "href": "code_coverage.html#codecov.io",
    "title": "2¬† Add code coverage badge to your GitHub Repository.",
    "section": "",
    "text": "Create an account at https://about.codecov.io/ , sign up with your GitHub account if you don‚Äôt have an account already. Codecov is a popular tool for measuring and visualizing code coverage in software projects. It integrates with GitHub, GitLab, Bitbucket, and other CI/CD systems to provide insights into how much of your code is tested by your test suite.\nYou can sync your private Github repositories on codecov platform to get started. If you want to add code coverage badge to a repository which is part of an organization (like PIP-Technical-Team, GPID-WB etc) then you need to be an admin of that organization. Admin role is needed because to sync the communication between Codecov.io with GitHub we need to generate a token which can only be done by admins.\nOnce your repo is synced with codecov and you can see it there click on Configure to start the process. As an example it should give you this screen\n\n\n\nIf you scroll below it will ask you to generate a repository secret, click on that to get a unique token for your repository and copy it.\nYou can ignore rest of the steps mentioned on that page since those are very generic language agnostic steps and since we want to setup this for R packages, we have a better option which I will share below.",
    "crumbs": [
      "<span class='chapter-number'>2</span>¬† <span class='chapter-title'>Add code coverage badge to your GitHub Repository.</span>"
    ]
  },
  {
    "objectID": "code_coverage.html#github",
    "href": "code_coverage.html#github",
    "title": "2¬† Add code coverage badge to your GitHub Repository.",
    "section": "2.2 GitHub",
    "text": "2.2 GitHub\n\nNow, moving to GitHub go to your repository. Click on Settings -&gt; Secrets and Variables -&gt; Actions -&gt; Repository Secrets add the new token with name CODECOV_TOKEN and copy the token value which was generated in the previous step.\n\nNext, we are going to setup GitHub Action to run and calculate code coverage after every push. The calculated coverage report would be uploaded on codecov.io and would be visible on their dashboard.\nAdditionally, I also added a possibility to run R CMD CHECK after every push. R CMD check is a tool that runs a series of automated checks on an R package to ensure it‚Äôs correctly structured, documented, and error-free. It helps catch issues in code, tests, and documentation before sharing or submitting to CRAN. So it is like an additional validation that we have on our code.\nThe new workflow file looks like below\nname: R-CMD-check and Codecov\n\non:\n  push:\n    branches: [master]\n  pull_request:\n    branches: [master]\n\njobs:\n  R-CMD-check:\n    runs-on: ubuntu-latest\n\n    steps:\n      - name: Checkout repository\n        uses: actions/checkout@v4\n\n      - name: Set up R\n        uses: r-lib/actions/setup-r@v2\n\n      - name: Set up pandoc\n        uses: r-lib/actions/setup-pandoc@v2\n\n      - name: Install dependencies\n        run: |\n          install.packages(c(\"remotes\", \"rcmdcheck\", \"covr\"))\n          remotes::install_deps(dependencies = TRUE)\n        shell: Rscript {0}\n\n      - name: Run R CMD check\n        run: |\n          rcmdcheck::rcmdcheck(args = \"--no-manual\", error_on = \"warning\")\n        shell: Rscript {0}\n\n      - name: Run test coverage\n        run: |\n          covr::codecov()\n        shell: Rscript {0}\n        env:\n          CODECOV_TOKEN: ${{ secrets.CODECOV_TOKEN }} \nThis file is self explanatory but briefly, it checks out the repository that we want to run our action on, sets up R to run R CMD CHECK and finally generate code coverage report and upload it to codecov.io .\nOne tip that I can share is to check if this workflow file works on your local branch before running on master branch. To do that you should temporarily enable the workflow file to run on your local branch. This can be done as below -\non:\n  push:\n    branches: [master, your-branch]\nwhere your-branch is the name of the local branch that you want to run the workflow for. Once you have verified that everything works as expected in the local branch, you can remove your-branch from the list again.\nOnce the workflow runs successfully the dashboard on codecov.io should be updated and you should see something like this\n\nEvery time a push or PR is made to master the dashboard will be updated with latest data.",
    "crumbs": [
      "<span class='chapter-number'>2</span>¬† <span class='chapter-title'>Add code coverage badge to your GitHub Repository.</span>"
    ]
  },
  {
    "objectID": "github_actions.html",
    "href": "github_actions.html",
    "title": "3¬† Setting up Github Actions for Auto Deployment of Quarto book",
    "section": "",
    "text": "3.1 Introduction\nOne of the best parts of using Quarto for websites, blogs, or reports is how easily it integrates with GitHub Pages. With a simple GitHub Actions workflow, you can automatically render and publish your site every time you update your repository. In this post we are going to learn how we have enabled auto deployment for this quarto book.",
    "crumbs": [
      "<span class='chapter-number'>3</span>¬† <span class='chapter-title'>Setting up Github Actions for Auto Deployment of Quarto book</span>"
    ]
  },
  {
    "objectID": "github_actions.html#workflow",
    "href": "github_actions.html#workflow",
    "title": "3¬† Setting up Github Actions for Auto Deployment of Quarto book",
    "section": "3.2 Workflow",
    "text": "3.2 Workflow\nThis is the workflow that we are using in Github Actions . Let‚Äôs look at it one by one.\non:\n  workflow_dispatch:\n  push:\n    branches: main\n\nname: Quarto Publish\n\njobs:\n  build-deploy:\n    runs-on: ubuntu-latest\n    permissions:\n      contents: write\n    steps:\n      - name: Check out repository\n        uses: actions/checkout@v4\n\n      - name: Set up Quarto\n        uses: quarto-dev/quarto-actions/setup@v2\n        env:\n          GH_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n        with:\n          tinytex: true\n      - name: Render and Publish\n        uses: quarto-dev/quarto-actions/publish@v2\n        with:\n          target: gh-pages\n        env:\n          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n\n3.2.1 Triggering the Workflow\non:\n  workflow_dispatch:\n  push:\n    branches: main\nThis tells GitHub Actions when to run the workflow. There are two triggers here:\n\npush to main ‚Äì Any time you commit or merge changes into the main branch, the workflow runs\nworkflow_dispatch ‚Äì Allows you to manually trigger the workflow from the GitHub Actions tab in your repository. This is useful when you want to force a rebuild and republish without committing new changes.\n\n\n\n3.2.2 Naming the workflow\nname: Quarto Publish\nThis gives the workflow a friendly name that will appear in the Actions tab.\n\n\n3.2.3 Defining the job\njobs:\n  build-deploy:\n    runs-on: ubuntu-latest\n    permissions:\n      contents: write\nHere we‚Äôre defining a single job called build-deploy.\n\nruns-on: ubuntu-latest ‚Äì The job will run inside an Ubuntu-based virtual machine provided by GitHub.\npermissions: contents: write ‚Äì The workflow needs permission to write to the repository (required for publishing to the gh-pages branch).\n\n\n\n3.2.4 The Steps\n\n3.2.4.1 1. Check out the repository\n- name: Check out repository\n  uses: actions/checkout@v4\nThis makes your repository‚Äôs files available in the workflow environment so Quarto can render your project.\n\n\n3.2.4.2 2. Set up Quarto\n- name: Set up Quarto\n  uses: quarto-dev/quarto-actions/setup@v2\n  env:\n    GH_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n  with:\n    tinytex: true\nThis installs Quarto in the workflow environment. The tinytex: true option ensures LaTeX support is available for rendering PDFs. The GH_TOKEN is github token repository secret that is added in Repo settings -&gt; Secrets and Variables -&gt; Actions . It is used for authentication when publishing.\n\n\n3.2.4.3 3. Render and Publish\n- name: Render and Publish\n  uses: quarto-dev/quarto-actions/publish@v2\n  with:\n    target: gh-pages\n  env:\n    GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\nThis step does two things:\n\nRenders your Quarto project (turns .qmd files into HTML, PDF, or other output formats).\nPublishes the output to the gh-pages branch, which GitHub Pages uses to serve your site. The target: gh-pages option ensures everything is pushed to the right branch.",
    "crumbs": [
      "<span class='chapter-number'>3</span>¬† <span class='chapter-title'>Setting up Github Actions for Auto Deployment of Quarto book</span>"
    ]
  },
  {
    "objectID": "github_actions.html#dont-ignore-the-.gitignore-file",
    "href": "github_actions.html#dont-ignore-the-.gitignore-file",
    "title": "3¬† Setting up Github Actions for Auto Deployment of Quarto book",
    "section": "3.3 Don‚Äôt ignore the .gitignore file",
    "text": "3.3 Don‚Äôt ignore the .gitignore file\nMake sure that your .gitignore file excludes _book, _site folders. These are the folders where Quarto renders HTML/PDF files when testing them locally. These files should not be tracked since Github Actions will build them with our auto deployment process.",
    "crumbs": [
      "<span class='chapter-number'>3</span>¬† <span class='chapter-title'>Setting up Github Actions for Auto Deployment of Quarto book</span>"
    ]
  },
  {
    "objectID": "github_actions.html#conclusion",
    "href": "github_actions.html#conclusion",
    "title": "3¬† Setting up Github Actions for Auto Deployment of Quarto book",
    "section": "3.4 Conclusion :",
    "text": "3.4 Conclusion :\nWith this workflow in place, the Quarto book will automatically rebuild and deploy whenever a push is made to the main branch or whenever we manually trigger the workflow. No more running commands locally or remembering to push generated files.\nThis is a clean, reproducible, and automated way to publish your Quarto projects using GitHub Pages. As a side not usethis package has a lot of good utility functions that helps you to set up similar workflow. You may explore using them. A good starting point is usethis::use_github_action(\"render-quarto\").\nFor reference the Quarto book is published here.",
    "crumbs": [
      "<span class='chapter-number'>3</span>¬† <span class='chapter-title'>Setting up Github Actions for Auto Deployment of Quarto book</span>"
    ]
  },
  {
    "objectID": "Increase_performance_WB_laptop.html",
    "href": "Increase_performance_WB_laptop.html",
    "title": "4¬† Improve Efficiency of a WB Laptop",
    "section": "",
    "text": "4.1 Modify System Properties for Performance\nThere are a few things you can do to improve the efficiency of a WB laptop. These tips won‚Äôt make your laptop fast, but they will help optimize performance and make it feel more responsive.",
    "crumbs": [
      "<span class='chapter-number'>4</span>¬† <span class='chapter-title'>Improve Efficiency of a WB Laptop</span>"
    ]
  },
  {
    "objectID": "Increase_performance_WB_laptop.html#modify-system-properties-for-performance",
    "href": "Increase_performance_WB_laptop.html#modify-system-properties-for-performance",
    "title": "4¬† Improve Efficiency of a WB Laptop",
    "section": "",
    "text": "Open the Windows menu, type Run, and click on the Run app.\n\nIn the Run app, type the following command and hit Enter:\n\n   systempropertiesperformance.exe\n\n\nIn the Performance Options window, select the Visual Effects tab.\n\nClick on Adjust for best performance.\nMake sure all the checkboxes are unchecked.\nClick Apply and then OK.\n\n\n\n\n\n\n\n\n\nWarning\n\n\n\nNote: This may affect the appearance of your system, since many visual effects will be disabled.",
    "crumbs": [
      "<span class='chapter-number'>4</span>¬† <span class='chapter-title'>Improve Efficiency of a WB Laptop</span>"
    ]
  },
  {
    "objectID": "Increase_performance_WB_laptop.html#battery-settings",
    "href": "Increase_performance_WB_laptop.html#battery-settings",
    "title": "4¬† Improve Efficiency of a WB Laptop",
    "section": "4.2 Battery Settings",
    "text": "4.2 Battery Settings\n\nOpen Battery Settings. \nSet the battery mode to Best performance.",
    "crumbs": [
      "<span class='chapter-number'>4</span>¬† <span class='chapter-title'>Improve Efficiency of a WB Laptop</span>"
    ]
  },
  {
    "objectID": "Increase_performance_WB_laptop.html#google-chrome-settings",
    "href": "Increase_performance_WB_laptop.html#google-chrome-settings",
    "title": "4¬† Improve Efficiency of a WB Laptop",
    "section": "4.3 Google Chrome Settings",
    "text": "4.3 Google Chrome Settings\n\nIn Google Chrome, type the following in the address bar:\nchrome://settings/performance\nUnder the Memory section, select Maximum.",
    "crumbs": [
      "<span class='chapter-number'>4</span>¬† <span class='chapter-title'>Improve Efficiency of a WB Laptop</span>"
    ]
  },
  {
    "objectID": "interact_vm.html",
    "href": "interact_vm.html",
    "title": "5¬† How to interact with the Virtual Machine (VM) that hosts PIP",
    "section": "",
    "text": "5.1 Access and Session Management",
    "crumbs": [
      "<span class='chapter-number'>5</span>¬† <span class='chapter-title'>How to interact with the Virtual Machine (VM) that hosts PIP</span>"
    ]
  },
  {
    "objectID": "interact_vm.html#access-and-session-management",
    "href": "interact_vm.html#access-and-session-management",
    "title": "5¬† How to interact with the Virtual Machine (VM) that hosts PIP",
    "section": "",
    "text": "5.1.1 Login to the VM\n\nGo to PrivX.\nUse SSO login (World Bank Authenticator App).\nIn the Connections tab, select the VM you want:\n\nDevelopment: Linux-wzlxdpip01.worldbank.org\nQA: Linux-wzlxqpip01.worldbank.org\nProduction: Linux-wzlxppip01.worldbank.org\n\nOnce connected, switch to the srvpip user:\nsudo su - srvpip\n\n\n\n5.1.2 Copy, Paste, and Keyboard Shortcuts\n\n\n\n\n\n\n\n\nShortcut\nAction\nNotes\n\n\n\n\nCtrl + C\nStop the current running process\ne.g.¬†stop an infinite loop or hanging R process\n\n\nCtrl + D\nLog out of the current shell\nEnds your session as srvpip\n\n\nShift + Ctrl + V\nPaste from clipboard\nWorks in most PrivX terminals\n\n\nShift + Insert\nPaste (alternative)\nOften easier in remote shells\n\n\n\nNotice that Ctrl + C does not copy text in terminal. You only need to highlight with your mouse the section you want to copy. Once you stopped highlighting, the text is copied to your clipboard automatically.",
    "crumbs": [
      "<span class='chapter-number'>5</span>¬† <span class='chapter-title'>How to interact with the Virtual Machine (VM) that hosts PIP</span>"
    ]
  },
  {
    "objectID": "interact_vm.html#understanding-the-environment",
    "href": "interact_vm.html#understanding-the-environment",
    "title": "5¬† How to interact with the Virtual Machine (VM) that hosts PIP",
    "section": "5.2 Understanding the Environment",
    "text": "5.2 Understanding the Environment\n\n5.2.1 Users and Permissions\n\nYour account: initial login via PrivX (not root)\nsrvpip user: used to manage Docker containers\nroot user: required for system-level commands; use only with sudo\n\nCommon prefixes:\n\ndocker ‚Üí run Docker as normal user (often fails without permissions)\nsudo docker ‚Üí correct way when managing containers\nsudo su - srvpip ‚Üí switch to service account context\n\n\n\n5.2.2 Architecture Overview\n+-------------------------------------------------------------+\n|                      Linux VM (Host)                        |\n|                                                             |\n|  Persistent Data:                                           |\n|    /Data/pip/files/data   &lt;---+                             |\n|                               | (bind mount)                |\n|                               v                             |\n|  ---------------------------------------------------------  |\n|  |               Docker Container: povertyscoreapi       |  |\n|  |                                                     |  |\n|  |   - Mounts /Data/pip/files/data ‚Üí /Data             |  |\n|  |   - Runs: Rscript /app/main.R                       |  |\n|  |   - Listens on port 8080 (internal)                 |  |\n|  ---------------------------------------------------------  |\n|                               ^                             |\n|                               |                             |\n|  Host Port 80  &lt;--------------+  (mapped to container 8080) |\n+-------------------------------------------------------------+\n\nLegend: - Data written to /Data inside the container is actually stored on the host at /Data/pip/files/data. - The API runs inside the container on port 8080, but is accessible from outside the VM on port 80.",
    "crumbs": [
      "<span class='chapter-number'>5</span>¬† <span class='chapter-title'>How to interact with the Virtual Machine (VM) that hosts PIP</span>"
    ]
  },
  {
    "objectID": "interact_vm.html#essential-docker-commands-cheat-sheet",
    "href": "interact_vm.html#essential-docker-commands-cheat-sheet",
    "title": "5¬† How to interact with the Virtual Machine (VM) that hosts PIP",
    "section": "5.3 Essential Docker Commands (Cheat Sheet)",
    "text": "5.3 Essential Docker Commands (Cheat Sheet)\n\n\n\n\n\n\n\n\n\nTask\nCommand\nNotes\n\n\n\n\n\nList all containers\nsudo docker ps -a\nShows running & stopped\n\n\n\nView logs\nsudo docker logs -f povertyscoreapi\nAdd --tail 200 to see last lines\n\n\n\nEnter container shell\nsudo docker exec -it povertyscoreapi /bin/bash\nFor interactive debugging\n\n\n\nCheck mounted volumes\nsudo docker inspect povertyscoreapi             | grep Mounts -A 5\nSee /Data source\n\n\n\nDelete stopped containers\nsudo docker container prune\nCleans unused ones\n\n\n\nDelete old images\nsudo docker image prune -a\nBe cautious ‚Äî removes all unused\n\n\n\nCheck Docker service status\nsudo systemctl status docker\nConfirms Docker is active",
    "crumbs": [
      "<span class='chapter-number'>5</span>¬† <span class='chapter-title'>How to interact with the Virtual Machine (VM) that hosts PIP</span>"
    ]
  },
  {
    "objectID": "interact_vm.html#managing-data",
    "href": "interact_vm.html#managing-data",
    "title": "5¬† How to interact with the Virtual Machine (VM) that hosts PIP",
    "section": "5.4 Managing Data",
    "text": "5.4 Managing Data\n\n5.4.1 Data on the VM (Persistent)\n\nMain data location:\ncd /Data/pip/files/data\nInspect space usage:\ndf -h | grep Data\ndu -h --max-depth=1 | sort -h\nPreview files safely:\nls -lah\nView folder sizes:\ndu -sh *\n\n\n5.4.1.1 üîç Find large or old files\nfind /Data/pip/files/data -type f -mtime +365 | head -n 20\n\n\n\n\n5.4.2 Data Inside Containers (Ephemeral)\nCheck where containers mount volumes:\nsudo docker inspect povertyscoreapi | grep Mounts -A 5\nYou‚Äôll see:\n\"Mounts\": [\n  {\n    \"Type\": \"bind\",\n    \"Source\": \"/Data/pip/files/data\",\n    \"Destination\": \"/Data\"\n  }\n]\nThat means:\n\nInside container ‚Üí /Data\nOn host ‚Üí /Data/pip/files/data\n\n\n5.4.2.1 Access via container shell:\nsudo docker exec -it povertyscoreapi ls -lh /Data\n\n\n\n\n5.4.3 Safe Deletion and Cleanup\nPreview first:\nls -d /Data/pip/files/data/project_*\nDelete specific folders:\nrm -rf /Data/pip/files/data/folder1 /Data/pip/files/data/folder2\nDelete all contents but keep parent folder:\nrm -rf /Data/pip/files/data/*\nMove to trash instead of deleting:\nmkdir -p /Data/pip/files/trash\nmv /Data/pip/files/data/folder1 /Data/pip/files/trash/\n‚ö†Ô∏è Caution: rm -rf is irreversible ‚Äî always check with ls first.",
    "crumbs": [
      "<span class='chapter-number'>5</span>¬† <span class='chapter-title'>How to interact with the Virtual Machine (VM) that hosts PIP</span>"
    ]
  },
  {
    "objectID": "interact_vm.html#diagnosing-api-or-container-issues",
    "href": "interact_vm.html#diagnosing-api-or-container-issues",
    "title": "5¬† How to interact with the Virtual Machine (VM) that hosts PIP",
    "section": "5.5 Diagnosing API or Container Issues",
    "text": "5.5 Diagnosing API or Container Issues\n\n5.5.1 Check Container State\nsudo docker ps -a\nGet detailed exit info:\nsudo docker inspect povertyscoreapi --format='ExitCode={{.State.ExitCode}} OOMKilled={{.State.OOMKilled}}'\n\nExitCode=0 ‚Üí normal exit\nExitCode=137 ‚Üí killed (likely out of memory)\n\n\n\n\n5.5.2 View Logs\nsudo docker logs povertyscoreapi | head -n 20   # startup logs\nsudo docker logs --tail 200 povertyscoreapi     # recent logs\n\n\n\n5.5.3 Reproduce Interactively\nStart an interactive debug session:\nsudo docker run --rm -it \\\n  --name povertyscoreapi-debug \\\n  -p 8080 \\\n  -v /Data/pip/files/data:/Data \\\n  itsesippscoreregistryprod.azurecr.io/povertyscoreapi:latest \\\n  /bin/bash\nInside:\nRscript /app/main.R\nPress Ctrl + C to stop and exit to leave.\n\n\n\n5.5.4 Restart or Rebuild Containers\nsudo docker restart povertyscoreapi\nOr rebuild completely:\nsudo docker stop povertyscoreapi\nsudo docker rm povertyscoreapi\nsudo docker pull itsesippscoreregistryprod.azurecr.io/povertyscoreapi:latest\nsudo docker run -d --name povertyscoreapi \\\n  -p 80:8080 \\\n  -v /Data/pip/files/data:/Data \\\n  itsesippscoreregistryprod.azurecr.io/povertyscoreapi:latest",
    "crumbs": [
      "<span class='chapter-number'>5</span>¬† <span class='chapter-title'>How to interact with the Virtual Machine (VM) that hosts PIP</span>"
    ]
  },
  {
    "objectID": "interact_vm.html#testing-api-endpoints",
    "href": "interact_vm.html#testing-api-endpoints",
    "title": "5¬† How to interact with the Virtual Machine (VM) that hosts PIP",
    "section": "5.6 Testing API Endpoints",
    "text": "5.6 Testing API Endpoints\n\n5.6.1 From Inside the Container\ncurl http://localhost:80/api/v1/health-check\n\n\n5.6.2 Loop through common endpoints\nfor ep in health-check pkgs-version data-signature gh-hash; do\n  echo \"---- Testing $ep ----\"\n  curl -s http://localhost:80/api/v1/$ep\n  echo\ndone\n\n\n5.6.3 From Outside (VM host or browser)\ncurl http://wzlxdpip01.worldbank.org/api/v1/health-check",
    "crumbs": [
      "<span class='chapter-number'>5</span>¬† <span class='chapter-title'>How to interact with the Virtual Machine (VM) that hosts PIP</span>"
    ]
  },
  {
    "objectID": "interact_vm.html#troubleshooting-common-errors",
    "href": "interact_vm.html#troubleshooting-common-errors",
    "title": "5¬† How to interact with the Virtual Machine (VM) that hosts PIP",
    "section": "5.7 Troubleshooting Common Errors",
    "text": "5.7 Troubleshooting Common Errors\n\n\n\n\n\n\n\n\nSymptom\nLikely Cause\nFix\n\n\n\n\ncurl: (7) Failed connect\nContainer not running or wrong port\nsudo docker ps -a\n\n\nExited (137)\nOut of memory (OOMKilled)\nIncrease VM memory or limit API load\n\n\nauthentication required\nNot logged in to Azure Container Registry\nsudo az acr login --name itsesippscoreregistryprod\n\n\npermission denied on /Data\nWrong user ownership\nsudo chown -R srvpip /Data\n\n\nNo logs shown\nContainer failed before startup\nRun sudo docker inspect povertyscoreapi\n\n\nPort 8080 works but 80 doesn‚Äôt\nPort not mapped\nRun container with -p 80:8080",
    "crumbs": [
      "<span class='chapter-number'>5</span>¬† <span class='chapter-title'>How to interact with the Virtual Machine (VM) that hosts PIP</span>"
    ]
  },
  {
    "objectID": "interact_vm.html#understanding-ports-80-vs-8080",
    "href": "interact_vm.html#understanding-ports-80-vs-8080",
    "title": "5¬† How to interact with the Virtual Machine (VM) that hosts PIP",
    "section": "5.8 Understanding Ports (80 vs 8080)",
    "text": "5.8 Understanding Ports (80 vs 8080)\n\nInside Docker, the API runs on 8080:\npipapi::start_api(port = 8080, host = \"0.0.0.0\")\nOutside Docker (host or browser), you can map any port using:\n-p 80:8080\nThis means:\nhost_port:container_port\nSo users access:\nhttp://wzlxdpip01.worldbank.org/api/v1/...\neven though internally it listens on 8080.",
    "crumbs": [
      "<span class='chapter-number'>5</span>¬† <span class='chapter-title'>How to interact with the Virtual Machine (VM) that hosts PIP</span>"
    ]
  },
  {
    "objectID": "interact_vm.html#monitoring-resource-usage",
    "href": "interact_vm.html#monitoring-resource-usage",
    "title": "5¬† How to interact with the Virtual Machine (VM) that hosts PIP",
    "section": "5.9 Monitoring Resource Usage",
    "text": "5.9 Monitoring Resource Usage\nWatch real-time CPU and memory:\nsudo docker stats povertyscoreapi\nOr globally:\ntop -u srvpip",
    "crumbs": [
      "<span class='chapter-number'>5</span>¬† <span class='chapter-title'>How to interact with the Virtual Machine (VM) that hosts PIP</span>"
    ]
  },
  {
    "objectID": "interact_vm.html#appendix",
    "href": "interact_vm.html#appendix",
    "title": "5¬† How to interact with the Virtual Machine (VM) that hosts PIP",
    "section": "5.10 Appendix",
    "text": "5.10 Appendix\n\n5.10.1 Check Disk Usage Quickly\ndf -h | grep Data\n\n\n5.10.2 Check Docker Service Logs\nsudo journalctl -u docker --since \"2025-09-23 17:00\"\n\n\n5.10.3 Check R version inside container\nsudo docker exec -it povertyscoreapi Rscript -e \"R.version.string\"",
    "crumbs": [
      "<span class='chapter-number'>5</span>¬† <span class='chapter-title'>How to interact with the Virtual Machine (VM) that hosts PIP</span>"
    ]
  }
]